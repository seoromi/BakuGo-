<!-- Booking Modal Integration Script -->
<!-- Add this to any tour page to enable booking functionality -->

<!-- Include the compiled SCSS -->
<link rel="stylesheet" href="dist/css/main.css">

<!-- Include the booking modal JavaScript -->
<script type="module" src="../src/js/pages/tour/booking-modal.js" defer></script>

<!-- Add the booking modal HTML structure -->
<div id="bookingModal" class="booking-modal" role="dialog" aria-labelledby="modal-title" aria-hidden="true">
    <div class="booking-modal-content">
        <button class="booking-modal-close" id="modalClose" aria-label="–ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ">&times;</button>
        
        <div class="booking-header">
            <h2 id="modal-title">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—É—Ä–∞</h2>
            <div class="tour-info">
                <h3 id="selectedTour"></h3>
                <p id="selectedPrice"></p>
            </div>
        </div>

        <div class="booking-body">
            <div class="booking-left">
                <form id="bookingForm" novalidate>
                    <!-- Personal Information -->
                    <div class="form-section">
                        <h4>–õ–∏—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                        <div class="form-group">
                            <label for="customerName">–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è *</label>
                            <input type="text" id="customerName" name="customerName" required
                                placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –ø–æ–ª–Ω–æ–µ –∏–º—è" aria-describedby="name-error">
                            <div class="error-message" id="name-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="customerEmail">Email *</label>
                            <input type="email" id="customerEmail" name="customerEmail" required
                                placeholder="example@email.com" aria-describedby="email-error">
                            <div class="error-message" id="email-error"></div>
                        </div>

                        <div class="form-group">
                            <label for="customerPhone">–¢–µ–ª–µ—Ñ–æ–Ω *</label>
                            <input type="tel" id="customerPhone" name="customerPhone" required
                                placeholder="+994 50 123 45 67" aria-describedby="phone-error">
                            <div class="error-message" id="phone-error"></div>
                        </div>
                    </div>

                    <!-- Tour Details -->
                    <div class="form-section">
                        <h4>–î–µ—Ç–∞–ª–∏ —Ç—É—Ä–∞</h4>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tourDate">–î–∞—Ç–∞ —Ç—É—Ä–∞ *</label>
                                <input type="date" id="tourDate" name="tourDate" required
                                    aria-describedby="tour-date-error">
                                <div class="error-message" id="tour-date-error"></div>
                            </div>

                            <div class="form-group">
                                <label for="tourTime">–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞</label>
                                <select id="tourTime" name="tourTime">
                                    <option value="09:00">09:00</option>
                                    <option value="10:00">10:00</option>
                                    <option value="11:00">11:00</option>
                                    <option value="12:00">12:00</option>
                                    <option value="13:00">13:00</option>
                                    <option value="14:00">14:00</option>
                                    <option value="15:00">15:00</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Ticket Selection -->
                    <div class="form-section">
                        <h4>–í—ã–±–µ—Ä–∏—Ç–µ –±–∏–ª–µ—Ç—ã</h4>
                        <div class="ticket-selector">
                            <div class="ticket-type">
                                <div class="ticket-info">
                                    <h5>–í–∑—Ä–æ—Å–ª—ã–µ</h5>
                                    <p class="ticket-price">$<span id="adultPrice">49</span></p>
                                </div>
                                <div class="ticket-controls">
                                    <button type="button" class="ticket-btn minus" data-type="adult">-</button>
                                    <span class="ticket-count" id="adultCount">1</span>
                                    <button type="button" class="ticket-btn plus" data-type="adult">+</button>
                                </div>
                            </div>

                            <div class="ticket-type">
                                <div class="ticket-info">
                                    <h5>–î–µ—Ç–∏ (–¥–æ 12 –ª–µ—Ç)</h5>
                                    <p class="ticket-price">$<span id="childPrice">25</span></p>
                                </div>
                                <div class="ticket-controls">
                                    <button type="button" class="ticket-btn minus" data-type="child">-</button>
                                    <span class="ticket-count" id="childCount">0</span>
                                    <button type="button" class="ticket-btn plus" data-type="child">+</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Promo Code -->
                    <div class="form-section">
                        <h4>–ü—Ä–æ–º–æ–∫–æ–¥</h4>
                        <div class="promo-section">
                            <div class="form-group">
                                <input type="text" id="promoCode" name="promoCode" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥">
                                <button type="button" id="applyPromo" class="promo-btn">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                            </div>
                            <div id="promoMessage" class="promo-message"></div>
                        </div>
                    </div>

                    <!-- Special Requests -->
                    <div class="form-section">
                        <h4>–û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è</h4>
                        <div class="form-group">
                            <textarea id="specialRequests" name="specialRequests" rows="3"
                                placeholder="–†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–∏—Ö –æ—Å–æ–±—ã—Ö –ø–æ–∂–µ–ª–∞–Ω–∏—è—Ö –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è—Ö..."></textarea>
                        </div>
                    </div>
                </form>
            </div>

            <!-- Booking Summary -->
            <div class="booking-right">
                <div class="booking-summary">
                    <h4>–°–≤–æ–¥–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h4>
                    
                    <div class="summary-item">
                        <span>–í–∑—Ä–æ—Å–ª—ã–µ x<span id="summaryAdultCount">1</span></span>
                        <span>$<span id="summaryAdultTotal">49</span></span>
                    </div>
                    
                    <div class="summary-item" id="childSummaryItem" style="display: none;">
                        <span>–î–µ—Ç–∏ x<span id="summaryChildCount">0</span></span>
                        <span>$<span id="summaryChildTotal">0</span></span>
                    </div>

                    <div class="summary-item" id="promoSummaryItem" style="display: none;">
                        <span>–°–∫–∏–¥–∫–∞</span>
                        <span class="discount">-$<span id="promoDiscount">0</span></span>
                    </div>

                    <div class="summary-divider"></div>
                    
                    <div class="summary-total">
                        <span>–ò—Ç–æ–≥–æ</span>
                        <span class="total-price">$<span id="totalPrice">49</span></span>
                    </div>
                </div>

                <div class="booking-actions">
                    <button type="button" id="cancelBooking" class="btn-cancel">
                        –û—Ç–º–µ–Ω–∞
                    </button>
                    <button type="submit" id="submitBooking" class="btn-book">
                        –ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ä
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Success Popup -->
<div id="successPopup" class="success-popup" role="dialog" aria-labelledby="success-title" aria-hidden="true">
    <div class="success-popup-content">
        <div class="success-icon">üéâ</div>
        <h2 id="success-title">–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ!</h2>
        <p>–í–∞—à–∞ –∑–∞—è–≤–∫–∞ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞. –ú—ã –ø–æ–ª—É—á–∏–ª–∏ –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ —Å–≤—è–∂–µ–º—Å—è –∑ –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.</p>

        <div class="booking-details" id="bookingDetailsDisplay">
            <h3>–î–µ—Ç–∞–ª–∏ –≤–∞—à–µ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
            <div id="bookingDetailsContent"></div>
        </div>

        <div class="gmail-info">
            <h4>üìß –ß—Ç–æ –¥–∞–ª—å—à–µ?</h4>
            <p><strong>–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ:</strong> –ú—ã –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –Ω–∞ –≤–∞—à email</p>
            <p><strong>–°–≤—è–∑—å:</strong> –ù–∞—à –º–µ–Ω–µ–¥–∂–µ—Ä —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 30 –º–∏–Ω—É—Ç</p>
            <p><strong>–û–ø–ª–∞—Ç–∞:</strong> –î–µ—Ç–∞–ª–∏ –æ–ø–ª–∞—Ç—ã –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—Ç–¥–µ–ª—å–Ω—ã–º –ø–∏—Å—å–º–æ–º</p>
            <p><strong>–í–æ–ø—Ä–æ—Å—ã?</strong> –ó–≤–æ–Ω–∏—Ç–µ: <strong>+994 50 444 12 34</strong></p>
        </div>

        <div class="success-buttons">
            <a href="mailto:info@oldcitytours.az?subject=–í–æ–ø—Ä–æ—Å –ø–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é" class="btn-primary">
                üìß –ù–∞–ø–∏—Å–∞—Ç—å –Ω–∞–º
            </a>
            <button id="closeSuccessPopup" class="btn-secondary">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
    </div>
</div>

<!-- Loading State -->
<div id="loadingState" class="loading-state" role="dialog" aria-labelledby="loading-title" aria-hidden="true">
    <div class="loading-content">
        <div class="loading-spinner"></div>
        <h3 id="loading-title">–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –≤–∞—à—É –∑–∞—è–≤–∫—É...</h3>
        <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥</p>
    </div>
</div>
