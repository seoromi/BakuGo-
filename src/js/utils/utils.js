function initializeAnimations(){const e=new IntersectionObserver(function(t){t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animate"),e.unobserve(t.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});document.querySelectorAll("[data-aos]").forEach(t=>{e.observe(t)}),document.querySelectorAll(".feature-card, .tour-card, .tour-category, .testimonial-card").forEach(t=>{e.observe(t)}),setTimeout(()=>{document.querySelectorAll(".feature-card, .tour-card, .tour-category, .testimonial-card").forEach(e=>{const t=e.getBoundingClientRect();t.top<window.innerHeight&&t.bottom>0&&e.classList.add("animate")})},100)}function initializeAccessibility(){const e=document.createElement("a");e.href="#main",e.textContent="Перейти к основному содержанию",e.className="skip-link",e.style.cssText="\n            position: absolute;\n            top: -40px;\n            left: 6px;\n            background: var(--secondary-color);\n            color: white;\n            padding: 8px;\n            text-decoration: none;\n            border-radius: 4px;\n            z-index: 10000;\n            transition: top 0.3s;\n        ",e.addEventListener("focus",()=>{e.style.top="6px"}),e.addEventListener("blur",()=>{e.style.top="-40px"}),document.body.insertBefore(e,document.body.firstChild),document.querySelector("main").id="main";const t=document.createElement("div");t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true"),t.style.cssText="\n            position: absolute;\n            left: -10000px;\n            width: 1px;\n            height: 1px;\n            overflow: hidden;\n        ",document.body.appendChild(t),window.announce=function(e){t.textContent=e,setTimeout(()=>{t.textContent=""},1e3)}}function showError(e,t){const n=document.getElementById(e)||document.querySelector(`[name="${e}"]`),o=n.closest(".form-group"),r=o.querySelector(".error-message");o.classList.add("error"),r.textContent=t,n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",r.id)}function clearFormErrors(){document.querySelectorAll(".form-group.error").forEach(e=>{e.classList.remove("error");const t=e.querySelector(".error-message");t&&(t.textContent="");const n=e.querySelector("input, select, textarea");n&&(n.removeAttribute("aria-invalid"),n.removeAttribute("aria-describedby"))})}function trapFocus(e){const t=e.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[0],o=t[t.length-1];e.addEventListener("keydown",function(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===n&&(e.preventDefault(),o.focus()):document.activeElement===o&&(e.preventDefault(),n.focus()))})}document.addEventListener("DOMContentLoaded",function(){initializeAnimations(),initializeAccessibility()});